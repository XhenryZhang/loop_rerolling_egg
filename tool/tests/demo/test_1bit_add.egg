(include "../tool/maki_decomp.egg")

; test full-add with carry
(push)
(define one-bit-add
    (Concat (Or (And (Wire (W "b0")) (Wire (W "a0"))) (And (Wire (W "cin")) (Xor (Wire (W "b0")) (Wire (W "a0"))))) (Xor (Xor (Wire (W "b0")) (Wire (W "a0"))) (Wire (W "cin"))))
)

(run 10)

(extract (bitwidth-wexp one-bit-add))
(extract one-bit-add)
(print ripple-carry 100) ; inevitable duplicates will be present
(extract (bitwidth-wexp one-bit-add))
(pop)